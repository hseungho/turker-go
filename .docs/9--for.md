# for문

## for문 동작 원리
Go언어에서 반복문으로는 `for`문 하나만 지원하지만, 여러 형태가 있기 때문에 각 형태를 적재적소에 잘 사용해야 한다.

기본 형태
```go
for 초기문; 조건문; 후처리 {
  코드 블록
}
```
`for`문이 실행될 때 초기문이 먼저 실행된다. 그리고 조건문을 검사한다. 만약 조건문 결과가 `true`이면 `for`문 { } 안쪽 코드 블록을
수행한다. 그리고 후처리 구문을 실행한다. 그리고 다시 조건문을 검사한다. 조건문 결과가 `true`이면 
`조건문 결과 -> { } 코드 블록 수행 -> 후처리`를 순서대로 반복한다. 만약 조건문 결과가 `false`이면 후처리 없이 `for`문을 종료한다.

[> 코드로 가기](../ch11/ex11.1/ex11.1.go)

### 초기문 생략
```go
for ; 조건문; 후처리 {
  코드 블록
}
```
초기문을 생략해도 `;`를 붙여서 조건문 자리를 표시해줘야 한다.

### 후처리 생략
```go
for 초기문; 조건문; {
  코드 블록
}
```
후처리를 생략해도 조건문 뒤에 `;`를 붙여줘야 한다.

### 조건문만 있는 경우
```go
for ; 조건문; {
  코드 블록
}
```
더 단순하게 `;`를 모두 없앨 수도 있다.
```go
for 조건문 {
  코드 블록
}
```

### 무한 루프
조건문이 `true`이면 코드 블록을 무한히 반복되는 무한 루프가 된다.
```go
for true {
  코드 블록
}
```
`switch` 문에서 조건문을 생략하면 `true`가 되듯이 `for`문에서도 `true`를 생략할 수 있다.
```go
for {
  
}
```
무한 루프는 프로그램이 강제 종료되거나 `break`를 사용해 `for`문을 종료하지 않으면 계속 반복되니 이를 주의해야 한다.

[> 코드로 가기](../ch11/ex11.2/ex11.2.go)

## continue와 break
`continue`와 `break`는 반복문을 제어하는 키워드이다. `continue`는 이후 코드 블록을 수행하지 않고
곧바로 후처리를 하고 조건문 검사를 하도록 하는 키워드이며, `break`는 `for`문에서 곧바로 빠져 나오도록 하는 키워드다.
```go
for i := 0; i < 10; i++ {
  if i == 3 {
    continue
  }
  if i == 6 {
    break
  }
  fmt.Println("6 * ", i, "=", 6*i)
}
```
[> 코드로 가기](../ch11/ex11.3/ex11.3.go)

## 중첩 for문
`for`문을 중첩해서 사용할 수 있다. 한 번 이상 중첩해 사용한 `for`문을 `중첩 for문`이라고 한다.

[> 코드로 가기 - 1](../ch11/ex11.4/ex11.4.go)  
[> 코드로 가기 - 2](../ch11/ex11.5/ex11.5.go)

`중첩 for문`에서 `break`와 `continue`를 사용하면 `continue`와 `break`가 속한 코드 블록의 `for문` 끝으로
가거나 곧바로 `for문`을 빠져나가게 된다.

[> 코드로 가기 - 구구단 출력](../ch11/ex11.6/ex11.6.go)

## 중첩 for문과 break, 레이블
`중첩 for문`에서 `break`를 사용하면 `break`가 속한 `for문`에서만 빠져나올 수 있다. 만일 모든 `for문`에서 빠져나가고 싶을 때,
첫 번째 방법으로는 `불리언 변수`를 사용하는 것이다. 이런 형태로 불리언 변수를 사용하는 것을 깃발처럼
올라갔는지 내려갔는지를 표시한다고 해서 `플래그flag 변수`라고 한다.

[> 코드로 가기](../ch11/ex11.7/ex11.7.go)

플래그 변수를 사용하는 게 때로는 번거로울 수 있다. 따라서 다른 방법으로는 `레이블`을 이용하는 방법이 있다.
`for문`을 시작할 때 레이블을 정의하고 `break`를 할 때 앞서 정의한 레이블을 적어주면 그 `레이블에 가장 먼저 속한 
for문`까지 모두 종료하게 된다.

[> 코드로 가기](../ch11/ex11.8/ex11.8.go)

레이블을 사용하는 방법이 편리할 수 있으나 혼동을 불러일으킬 수 있고 자칫 잘못 사용하면 예기치 못한 버그가
발생할 수 있다. 그래서 되도록이면 플래그를 사용하고 레이블은 꼭 필요한 경우에만 사용하는 것을 권장한다.
클린 코드를 지향하려면 중첩된 내부 로직을 함수로 묶어 중첩을 줄이고, 플래그 변수나 레이블 사용을 최소화해야 한다.

[> 코드로 가기](../ch11/ex11.9/ex11.9.go)

## 핵심요약
for문은 조건문이 true이면 코드 블록을 반복 수행한다. continue와 break를 통해서 for문 후처리로 가거나
해당 반복문을 빠져나갈 수 있다.
```go
for 초기문; 조건문; 후처리 {
  코드 블록
}
```
```go
for ; 조건문; 후처리 {
  코드 블록
}
```
```go
for 조건문; {
  코드 블록
}

for {
  코드 블록
}
```
```go
for {
  코드 블록
}
```
